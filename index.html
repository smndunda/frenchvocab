<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon App de Vocabulaire Fran√ßais</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
      <style>
    body { background-color: #f3f4f6; font-family: sans-serif; }
    
    .flashcard-container { 
        perspective: 1000px; 
        width: 350px; 
        height: 450px; 
    }
    
    .flashcard { 
        width: 100%; 
        height: 100%; 
        position: relative; 
        transition: transform 0.6s; 
        transform-style: preserve-3d; 
        cursor: pointer; 
    }
    
    .flashcard.is-flipped { 
        transform: rotateY(180deg); 
    }
    
    .card-face { 
        position: absolute; 
        width: 100%; 
        height: 100%; 
        /* This is the critical part that hides the back */
        -webkit-backface-visibility: hidden; 
        backface-visibility: hidden; 
        
        display: flex; 
        flex-direction: column; 
        align-items: center; 
        justify-content: center; 
        border-radius: 1.5rem; 
        box-shadow: 0 10px 25px rgba(0,0,0,0.1); 
        padding: 2rem; 
        text-align: center; 
    }
    
    .card-front { 
        background: white; 
        border: 2px solid #e5e7eb; 
        z-index: 2; /* Ensures front stays on top initially */
    }
    
    .card-back { 
        background: #007c7c; 
        color: white; 
        transform: rotateY(180deg); 
    }
</style>
    <!-- DATA LINK -->
    <script src="data.js"></script>

    <script>
        let vocab = vocabData; 
        let currentIndex = 0;
        const card = document.getElementById('card');
        const frWord = document.getElementById('fr-word');
        const enWord = document.getElementById('en-word');
        const wordType = document.getElementById('word-type');
        const progressText = document.getElementById('progress-text');
        const progressBar = document.getElementById('progress-bar');
        const statsText = document.getElementById('stats-text');

        function updateCard() {
            card.classList.remove('is-flipped');
            setTimeout(() => {
                const item = vocab[currentIndex];
                frWord.innerText = item.fr;
                enWord.innerText = item.en;
                wordType.innerText = item.type;
                
                // Update Progress
                const progress = ((currentIndex + 1) / vocab.length) * 100;
                progressBar.style.width = `${progress}%`;
                progressText.innerText = `Mot ${currentIndex + 1} sur ${vocab.length}`;
                statsText.innerText = `Pratique de ${vocab.length} mots essentiels`;
            }, 150);
        }

        function flipCard() { card.classList.toggle('is-flipped'); }
        function nextCard() { if (currentIndex < vocab.length - 1) { currentIndex++; updateCard(); } }
        function prevCard() { if (currentIndex > 0) { currentIndex--; updateCard(); } }
        function shuffleCards() { vocab.sort(() => Math.random() - 0.5); currentIndex = 0; updateCard(); }

        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') flipCard();
            if (e.code === 'ArrowRight') nextCard();
            if (e.code === 'ArrowLeft') prevCard();
        });

        // Start
        updateCard();
    </script>
</body>
</html>